require(["common"],function(){require(["zepto"],function(e){e(function(){e(".buy-btn a").bind("click",function(){e("#winBg").show(),e(".pay-mode").css("bottom","0px")}),e("#winBg, .submit-btn .btns, #close").bind("click",function(){e("#winBg").hide(),e(".pay-mode").css("bottom","-100%")});if(e(".pay-mode label input").length){var t=e(".submit-btn .btns").attr("href");e(".submit-btn .btns").attr("href",t.replace(t.split("|")[1],e(".pay-mode label input").eq(0).val()))}e(".pay-mode label").bind("click",function(){e(".pay-mode label").removeClass("checked"),e(this).addClass("checked");var t=e(".submit-btn .btns").attr("href");return e(".submit-btn .btns").attr("href",t.replace(t.split("|")[1],e(this).find("input").val())),!1});var n=parseInt(e(".pay-result .num").html()),r=e(".pay-result").html(),i=setInterval(function(){n--,e(".pay-result .num").html(n),n==1&&(clearInterval(i),e(".btn").removeClass("btn-disable"),e(".pay-result").html('<p class="icon-error"></p><p style="padding-bottom: 33px;">未获取到支付结果请手动刷新！</p>'))},1e3);e(".btn").bind("click",function(){e(this).hasClass("btn-disable")||(window.location.reload(),e(".pay-result").html(r))})})})}),define("pay",function(){});